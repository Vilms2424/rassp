import telebot
import sqlite3
import types
from telebot import types
import psycopg2
import json
import datetime

tp = telebot.TeleBot('8046394107:AAH0tVcJIBJMeTwku7wSV75LEdZtIWGyYmI');

#–û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –î–ù–Ø –ò –ö–û–õ-–í–û –Ω–µ–¥–µ–ª–∏
nows = datetime.datetime.now()
today = datetime.date.today()
print(nows)
print(nows.isoweekday())

week_number = today.isocalendar()[1]
print({week_number})
chet = (week_number %2 == 0)

week = int(week_number)

#—Å–ø–∏—Å–æ–∫
den = {
    1: {True: "üî• –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (–ß–∏—Å–ª–∏—Ç–µ–ª—å): –í—ã—Ö–æ–¥–Ω–æ–π (–ü–æ—Å–ø–∏)" ,
        False: "üí™ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å): –í—ã—Ö–æ–¥–Ω–æ–π (–°–ø–∏ –±–ª—è—Ç—å)"},

    2: {True: ("üéâ (–ß–∏—Å–ª–∏—Ç–µ–ª—å) –í—Ä–µ–º—è:10-20 –£–ê–ö 2-2.18 –°–•–ï–ú–û–¢–ï–•–ù–ò–ß.–ü–†–û–ï–ö–¢–ò–†–û–í–ê–ù–ò–ï.–≠–° (–õ–ê–ë–ê) –õ–´–ö–û–í (–í–¢–û–†–ù–ò–ö)"
               " \nüí™  –í—Ä–µ–º—è 12:10 –°–ò–°–¢–ï–ú–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ë–î (–õ–ï–ö–¶–ò–Ø) –ê–ö–ò–ú–ï–ù–ö–û (–í–¢–û–†–ù–ò–ö)"),

        False: "ü§ì–í—Ä–µ–º—è:10-20 –£–ê–ö 3-3.08 –ù–ï–õ–ò–ù–ï–ô–ù–´–ï –£–ü–†–ê–í–õ–Ø–Æ–©–ò–ï –°–ò–°–¢–ï–ú–´ (–õ–ï–ö–¶–ò–Ø) (–§–ò–ù–û–®–ò–ù) (–í–¢–û–†–ù–ò–ö)"
               "üí™ \n(–ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å) –í—Ä–µ–º—è 12:10 –£–ê–ö 2-2.05 –°–û–í–†–ï–ú–ï–ù–ù–´–ï –ò–ù–§–û–†–ú–ê–¶. –¢–ï–•–ù–û–õ–û–ì–ò–ò –ê–í–¢–û–ú–ê–¢.(–õ–ï–ö–¶–ò–Ø) (–ú–ê–ö–ê–†–ï–ù–ö–û) (–í–¢–û–†–ù–ò–ö)"},

    3: {True: "üéâ –°—Ä–µ–¥–∞ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10-20 –£–ê–ö 2-2.30 –°–•–ï–ú–û–¢–ò–ß–ù.–ü–†–û–ï–ö–¢.–≠–° (–õ–ï–ö–¶–ò–Ø) (–õ–û–°–ö–£–¢–û–í) "
              "\n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-3.09 –ú–ï–¢–û–î–´ –ì–ï–ù.–ü–†–û–ì–†. (–õ–ï–ö–¶–ò–Ø) (–ö–û–†–õ–Ø–ö–û–í–ê)"
              "\n–í—Ä–µ–º—è 14:15 –£–ê–ö 2-3.06 –ú–ï–¢–û–î–´ –ì–ï–ù.–ü–†–û–ì–†. (–õ–ê–ë–ê) (–ö–û–†–õ–Ø–ö–û–í–ê)",

        False: "üçª –°—Ä–µ–¥–∞ (–Ω–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –°—Ä–µ–¥–∞ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10-20 –£–ê–ö 2-2.30 –°–•–ï–ú–û–¢–ò–ß–ù.–ü–†–û–ï–ö–¢.–≠–° (–õ–ï–ö–¶–ò–Ø) (–õ–û–°–ö–£–¢–û–í) "
              "\n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-3.09 –ú–ï–¢–û–î–´ –ì–ï–ù.–ü–†–û–ì–†. (–õ–ï–ö–¶–ò–Ø) (–ö–û–†–õ–Ø–ö–û–í–ê)"},

    4: {True: "üåû –ß–µ—Ç–≤–µ—Ä–≥ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10-20 –£–ê–ö 2-3.10 –ú–ï–¢–û–î–´.–ì–ï–ù–ï–¢.–ü–†–û–ì (–£–ü–†–ê–í–õ) (–ö–û–†–õ–Ø–ö–û–í–ê) "
              "\n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-3.09 –°–û–í–†–ï–ú–ï–ù–ù.–ò–ù–§–û–†.–¢–ï–•–ù–û–õ–û–ì (–õ–ê–ë–ê) (–ú–ê–ö–ê–†–ï–ù–ö–û–í)"
              "\n–í—Ä–µ–º—è 14:15 –£–ê–ö 2-3.06 –ú–ï–¢–û–î–´ –ì–ï–ù.–ü–†–û–ì–†. (–õ–ê–ë–ê) (–ö–û–†–õ–Ø–ö–û–í–ê)"
              "\n–í—Ä–µ–º—è 16:20 –£–ê–ö 2-3.03 –ù–ï–õ–ò–ù–ï–ô–ù–´–ï –£–ü–†–ê–í–õ–Ø–Æ–©–ò–ï –°–ò–°–¢–ï–ú–´ (–§–ò–ù–û–®–ò–ù) (–õ–ê–ë–ê)",

        False: "üéÆ –ß–µ—Ç–≤–µ—Ä–≥ (–Ω–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è):–í—Ä–µ–º—è 12:10 –£–ê–ö 2-3.38 –¢–ï–•–ù–ò–ß.–°–†–ï–î–°–¢–í.–£–ü–†–ê–í (–õ–ê–ë–ê) (–ö–û–ù–û–í–ê–õ–û–í)"
              "\n–í—Ä–µ–º—è 14:15 –£–ê–ö 2-3.06 –ú–ï–¢–û–î–´ –ì–ï–ù.–ü–†–û–ì–†. (–õ–ê–ë–ê) (–ö–û–†–õ–Ø–ö–û–í–ê)"},

    5: {True: "üåû –ü—è—Ç–Ω–∏—Ü–∞ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è):–í—Ä–µ–º—è 10:20 –£–ê–ö 2-2.09 –¢–ï–•–ù–ò–ß.–°–†–ï–î–°–¢–í.–£–ü–†–ê–í (–õ–ê–ë–ê) (–ö–û–ù–û–í–ê–õ–û–í)"
              "\n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-2.05 –°–ò–°–¢–ï–ú–´ –£–ü–†–ê –ë–î (–õ–ï–ö–¶–ò–Ø) (–ê–ö–ò–ú–ï–ù–ö–û)",

        False: "üéÆ –ü—è—Ç–Ω–∏—Ü–∞ (–Ω–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10:20 –£–ê–ö 2-2.09 –¢–ï–•–ù–ò–ß.–°–†–ï–î–°–¢–í.–£–ü–†–ê–í (–õ–ê–ë–ê) (–ö–û–ù–û–í–ê–õ–û–í)"
              "\n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-2.05 –°–ò–°–¢–ï–ú–´ –£–ü–†–ê –ë–î (–õ–ï–ö–¶–ò–Ø) (–ê–ö–ò–ú–ï–ù–ö–û)"
               "\n–í—Ä–µ–º—è 14:15 –£–ê–ö 2-3.61  –°–ò–°–¢–ï–ú–´ –£–ü–†–ê –ë–î (–õ–ê–ë–ê) (–ê–ö–ò–ú–ï–ù–ö–û"},

    6: {True: "üåû –°—É–±–±–æ—Ç–∞ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10:20 –£–ê–ö 1-4.03 –û–°–ù–û–í–´ –ó–ê–©–ò–¢ –ò–ù–§–û–†–ú–ê–¶–ò–ò (–õ–ï–ö–¶–ò–Ø) (–ë–£–†–ú–ò–°–¢–†–û–í)",

            False: "üéÆ –°—É–±–±–æ—Ç–∞ (–Ω–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –í—Ä–µ–º—è 10:20 –£–ê–ö 1-4.03 –û–°–ù–û–í–´ –ó–ê–©–ò–¢ –ò–ù–§–û–†–ú–ê–¶–ò–ò (–õ–ï–ö–¶–ò–Ø) (–ë–£–†–ú–ò–°–¢–†–û–í)"
                   " \n–í—Ä–µ–º—è 12:10 –£–ê–ö 2-4.06 –û–°–ù–û–í–´ –ó–ê–©–ò–¢ –ò–ù–§–û–†–ú–ê–¶–ò–ò (–õ–ê–ë–ê) (–ö–û–†–ù–ï–ï–í)"},
    7: {True: "üåû –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ (—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –û—Ç–¥—ã—Ö–∞–µ–º —Å –ø–æ–ª—å–∑–æ–π!",
            False: "\nüéÆ –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ (–Ω–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è): –ò–≥—Ä–∞–µ–º –∏ –æ—Ç–¥—ã—Ö–∞–µ–º!"}
}

dayss = nows.isoweekday()



# if dayss in den:
#     print(den[dayss][chet])

# #–∫–æ–Ω–µ–∫—Ç —Å –±–¥
#
# conn = psycopg2.connect(
#     dbname="ryzhovvla2",
#     user="ryzhovvla2",
#     password="Vlad5253456",
#     host="pg3.sweb.ru",
#     port="5432"
# )
# cur = conn.cursor()
#
# #–≤—Ç–æ—Ä–Ω–∏–∫–∏
# cur.execute("SELECT vtornic FROM tele LIMIT 1 ")
# rows = cur.fetchone()
# vtornic =(rows[0])
# # print(vtornic)
# cur.execute("SELECT vtornic FROM tele LIMIT 1 OFFSET 1")
# second = cur.fetchone()
# vtornics = second[0]
# # print(vtornics)
# #—Å—Ä–µ–¥—ã
#
# cur.close()
# conn.close()











@tp.message_handler(commands=['start'])
def handle_start(message):
    keyboard = types.ReplyKeyboardMarkup(row_width=2)
    button1 = types.KeyboardButton('–ò–£–ö3-81–ë')
    button2 = types.KeyboardButton('–ò–£–ö3-82–ë')
    keyboard.add(button1, button2)

    tp.reply_to(message,'–ó–¥–∞—Ä–æ–≤–∞ –±—Ä–∞—Ç! –í—ã–±–µ—Ä–∏ –≥—Ä—É–ø–ø—É,–≤—ã–≤–µ–¥—É —Ä–∞—Å—Å–ø–∏—Å–∞–Ω–∏–µ',reply_markup=keyboard)


@tp.message_handler(func=lambda message: True)
def handle_message(message):

  if message.text == '–ò–£–ö3-81–ë':
        tp.reply_to(message, den[dayss][chet])
        tp.send_animation(message.chat.id, "https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif")
  else:
         tp.reply_to(message, "k")

tp.infinity_polling()